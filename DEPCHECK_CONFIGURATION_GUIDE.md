# üîç Depcheck Configuration Guide –¥–ª—è Monorepo

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 27 —è–Ω–≤–∞—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.0.0  

---

## üìã –û–±–∑–æ—Ä

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è depcheck –¥–ª—è –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Sochi Travel —Å —É—á–µ—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- `apps/api/` (backend)
- `apps/web/` (frontend) 
- `packages/` (–æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã)
- `scripts/` (–º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã)

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
1. **`.depcheckrc.json`** - –ì–ª–∞–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
2. **`apps/web/.depcheckrc.json`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è frontend
3. **`apps/api/.depcheckrc.json`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è backend
4. **`packages/.depcheckrc.json`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –æ–±—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤
5. **`scripts/.depcheckrc.json`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤

### üõ†Ô∏è –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞:
6. **`scripts/depcheck-all.sh`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
7. **`scripts/depcheck-frontend.sh`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ frontend
8. **`scripts/depcheck-backend.sh`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ backend

---

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### üîß –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫:
```json
{
  "ignorePatterns": [
    "*.test.ts", "*.test.tsx", "*.test.js", "*.test.jsx",
    "*.spec.ts", "*.spec.tsx", "*.spec.js", "*.spec.jsx",
    "**/*.d.ts", "**/test/**", "**/tests/**", "**/__tests__/**",
    "**/coverage/**", "**/dist/**", "**/build/**", "**/node_modules/**"
  ]
}
```

### üì¶ –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–∞–∫–µ—Ç–æ–≤:
```json
{
  "ignoreMatches": [
    "@types/*", "@typescript-eslint/*", "eslint*", "prettier*",
    "typescript", "ts-node", "tsx", "vitest", "jest",
    "@testing-library/*", "webpack*", "vite*", "@vitejs/*"
  ]
}
```

### üéØ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —á–∞—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞:

#### Frontend (apps/web):
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç React, Vite, styled-components
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∞—Å—Å–µ—Ç—ã (CSS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —à—Ä–∏—Ñ—Ç—ã)
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### Backend (apps/api):
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç Express, Prisma, security –ø–∞–∫–µ—Ç—ã
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç Docker —Ñ–∞–π–ª—ã

#### Packages:
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (lodash, date-fns, uuid)
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç TypeScript –∏ build tools

#### Scripts:
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç shell —Å–∫—Ä–∏–ø—Ç—ã –∏ SQL —Ñ–∞–π–ª—ã
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./scripts/depcheck-all.sh

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
npx depcheck
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ frontend:
```bash
# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
./scripts/depcheck-frontend.sh

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
cd apps/web && npx depcheck
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ backend:
```bash
# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
./scripts/depcheck-backend.sh

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
cd apps/api && npx depcheck
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —á–∞—Å—Ç–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ packages
cd packages && npx depcheck

# –ü—Ä–æ–≤–µ—Ä–∫–∞ scripts
cd scripts && npx depcheck
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- **Unused devDependencies**: –¢–µ—Å—Ç–æ–≤—ã–µ –∏ build –ø–∞–∫–µ—Ç—ã
- **Missing dependencies**: –ü–∞–∫–µ—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ runtime

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è:
- **Unused dependencies**: –ü–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- **Missing dependencies**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è TypeScript

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript –∏–º–ø–æ—Ä—Ç–æ–≤:
```json
{
  "parsers": {
    "*.ts": "typescript",
    "*.tsx": "typescript",
    "*.js": "es6",
    "*.jsx": "es6"
  },
  "detectors": [
    "typescriptImportEqualsDeclaration",
    "typescriptImportType",
    "typescriptExportAssignment",
    "typescriptModuleReference"
  ]
}
```

### –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ TypeScript —Ñ–∞–π–ª–æ–≤:
```json
{
  "ignorePatterns": ["**/*.d.ts"],
  "ignoreMatches": ["@types/*", "typescript"]
}
```

---

## üèóÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Monorepo

### –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤:
```json
{
  "package": {
    "ignoreMatches": [
      "react", "react-dom", "styled-components",
      "express", "cors", "helmet", "prisma"
    ]
  }
}
```

### –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π:
```json
{
  "ignorePaths": [
    "apps/web/public/**",
    "apps/api/dist/**",
    "scripts/**/*.sql",
    "scripts/**/*.sh"
  ]
}
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ

### –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ security –ø–∞–∫–µ—Ç–æ–≤:
```json
{
  "ignoreMatches": [
    "helmet", "express-rate-limit", "cors",
    "bcryptjs", "jsonwebtoken", "argon2"
  ]
}
```

### –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ build tools:
```json
{
  "ignoreMatches": [
    "vite*", "@vitejs/*", "webpack*", "rollup*",
    "esbuild", "swc*", "@swc/*"
  ]
}
```

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
./scripts/depcheck-all.sh

# –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install && ./scripts/depcheck-all.sh
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI/CD:
```yaml
# .github/workflows/depcheck.yml
- name: Check dependencies
  run: ./scripts/depcheck-all.sh
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:
```json
// package.json
{
  "scripts": {
    "depcheck": "./scripts/depcheck-all.sh",
    "depcheck:frontend": "./scripts/depcheck-frontend.sh",
    "depcheck:backend": "./scripts/depcheck-backend.sh"
  }
}
```

---

## üîç Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–Ω–æ–≥–æ false positives
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ –ø–∞–∫–µ—Ç—ã –≤ `ignoreMatches` –∏–ª–∏ `ignorePackages`

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ignorePatterns` –∏ `ignorePaths`

### –ü—Ä–æ–±–ª–µ–º–∞: TypeScript –∏–º–ø–æ—Ä—Ç—ã –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `parsers` —Å–æ–¥–µ—Ä–∂–∏—Ç `"*.ts": "typescript"`

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ depcheck —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∫—Ä–∏–ø—Ç–∞–º
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ depcheck

---

**–°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: üü¢ **–ì–û–¢–û–í–ê –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

*–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ 27 —è–Ω–≤–∞—Ä—è 2025*

