<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="800" viewBox="0 0 1200 800">
  <rect width="1200" height="800" fill="#0f172a"/>
  <text x="40" y="50" fill="#e2e8f0" font-family="Verdana" font-size="24">Sochi Travel - Target Architecture (Containers & Network)</text>

  <!-- Nginx -->
  <rect x="60" y="100" width="300" height="120" rx="8" fill="#1e293b" stroke="#64748b"/>
  <text x="80" y="140" fill="#e2e8f0" font-size="18">nginx (HTTP/3 + Brotli + WAF)</text>
  <text x="80" y="170" fill="#94a3b8" font-size="14">443 → web, api | rate-limit | TLS</text>

  <!-- Web SSR -->
  <rect x="420" y="90" width="320" height="140" rx="8" fill="#1e293b" stroke="#64748b"/>
  <text x="440" y="130" fill="#e2e8f0" font-size="18">web (Vite 6 + React 19 SSR)</text>
  <text x="440" y="160" fill="#94a3b8" font-size="14">RSC + Router v7 streaming</text>

  <!-- API -->
  <rect x="420" y="260" width="320" height="160" rx="8" fill="#1e293b" stroke="#64748b"/>
  <text x="440" y="300" fill="#e2e8f0" font-size="18">api (Express 5)</text>
  <text x="440" y="330" fill="#94a3b8" font-size="14">helmet, cors, rate-limit, csurf</text>
  <text x="440" y="355" fill="#94a3b8" font-size="14">JWT + refresh rotation (cookies)</text>

  <!-- DB -->
  <rect x="800" y="260" width="320" height="140" rx="8" fill="#1e293b" stroke="#64748b"/>
  <text x="820" y="300" fill="#e2e8f0" font-size="18">db (MariaDB 11.4)</text>
  <text x="820" y="330" fill="#94a3b8" font-size="14">Galera-ready | migrations</text>

  <!-- Redis -->
  <rect x="800" y="440" width="320" height="120" rx="8" fill="#1e293b" stroke="#64748b"/>
  <text x="820" y="480" fill="#e2e8f0" font-size="18">redis</text>
  <text x="820" y="505" fill="#94a3b8" font-size="14">sessions + cache</text>

  <!-- Minio -->
  <rect x="800" y="90" width="320" height="140" rx="8" fill="#1e293b" stroke="#64748b"/>
  <text x="820" y="130" fill="#e2e8f0" font-size="18">minio (S3)</text>
  <text x="820" y="160" fill="#94a3b8" font-size="14">media uploads (presigned)</text>

  <!-- Observability -->
  <rect x="60" y="260" width="300" height="200" rx="8" fill="#1e293b" stroke="#64748b"/>
  <text x="80" y="300" fill="#e2e8f0" font-size="18">observability</text>
  <text x="80" y="330" fill="#94a3b8" font-size="14">Prometheus + Grafana</text>
  <text x="80" y="355" fill="#94a3b8" font-size="14">Loki + OpenTelemetry</text>

  <!-- Connections -->
  <line x1="360" y1="160" x2="420" y2="160" stroke="#94a3b8" stroke-width="2"/>
  <line x1="740" y1="160" x2="800" y2="160" stroke="#94a3b8" stroke-width="2"/>
  <line x1="580" y1="230" x2="580" y2="260" stroke="#94a3b8" stroke-width="2"/>
  <line x1="740" y1="340" x2="800" y2="330" stroke="#94a3b8" stroke-width="2"/>
  <line x1="740" y1="380" x2="800" y2="480" stroke="#94a3b8" stroke-width="2"/>
  <line x1="380" y1="330" x2="420" y2="330" stroke="#94a3b8" stroke-width="2"/>

  <!-- Legend -->
  <text x="60" y="500" fill="#94a3b8" font-size="12">network: nginx → web/api; api → db/redis/minio; web → minio</text>
  <text x="60" y="520" fill="#94a3b8" font-size="12">compose profiles: dev | test | prod; secrets via files</text>
</svg>



